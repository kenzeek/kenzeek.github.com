{"openapi":"3.0.1","info":{"title":"XestThings Stream Proccessor Manager API","license":{"name":"Copyright 2020. MARUIT Co.,Ltd. all rights reserved.","url":"http://www.maruit.co.kr"},"version":"v1"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/nodes":{"get":{"tags":["노드 관리"],"summary":"노드 목록 조회","operationId":"getNodes","responses":{"200":{"description":"노드 목록 조회 성공","headers":{"Content-Type":{"style":"simple","schema":{"type":"String","example":"application/json"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetNodesResponseDto"}}}}}},"post":{"tags":["노드 관리"],"summary":"노드 생성","operationId":"createNode","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateNodeRequestDto"}}},"required":true},"responses":{"201":{"description":"노드 생성 성공","headers":{"Location":{"style":"simple","schema":{"type":"String","example":"/nodes/3fa85f64-5717-4562-b3fc-2c963f66afa6"}}}}}}},"/nodes/{node_uuid}":{"get":{"tags":["노드 관리"],"summary":"노드 조회","operationId":"getNode","parameters":[{"name":"node_uuid","in":"path","description":"노드 UUID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"노드 조회 성공","headers":{"Content-Type":{"style":"simple","schema":{"type":"String","example":"application/json"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetNodeResponseDto"}}}}}},"put":{"tags":["노드 관리"],"summary":"노드 수정","operationId":"updateNode","parameters":[{"name":"node_uuid","in":"path","description":"노드 UUID","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateNodeRequestDto"}}}},"responses":{"200":{"description":"노드 수정 성공","headers":{"Content-Type":{"style":"simple","schema":{"type":"String","example":"application/json"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetNodeResponseDto"}}}}}},"delete":{"tags":["노드 관리"],"summary":"노드 삭제","operationId":"deleteNode","parameters":[{"name":"node_uuid","in":"path","description":"노드 UUID","required":true,"schema":{"type":"string"}}],"responses":{"202":{"description":"노드 삭제 성공"}}}},"/nodes/{node_uuid}/status":{"get":{"tags":["노드 관리"],"summary":"노드 상태 조회","operationId":"getNodeStatus","parameters":[{"name":"node_uuid","in":"path","description":"노드 UUID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"노드 상태 조회 성공","headers":{"Content-Type":{"style":"simple","schema":{"type":"String","example":"application/json"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetNodeStatusResponseDto"}}}}}}},"/rules":{"get":{"tags":["규칙 관리"],"summary":"규칙 목록 조회","operationId":"getRules","responses":{"200":{"description":"규칙 목록 조회 성공","headers":{"Content-Type":{"style":"simple","schema":{"type":"String","example":"application/json"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetRulesResponseDto"}}}}}},"post":{"tags":["규칙 관리"],"summary":"규칙 생성","operationId":"createRule","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRuleRequestDto"}}},"required":true},"responses":{"201":{"description":"규칙 생성 성공","headers":{"Location":{"style":"simple","schema":{"type":"String","example":"/rules/3fa85f64-5717-4562-b3fc-2c963f66afa6"}}}}}}},"/rules/{rule_uuid}":{"get":{"tags":["규칙 관리"],"summary":"규칙 조회","operationId":"getRule","parameters":[{"name":"rule_uuid","in":"path","description":"규칙 UUID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"규칙 조회 성공","headers":{"Content-Type":{"style":"simple","schema":{"type":"String","example":"application/json"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetRuleResponseDto"}}}}}},"put":{"tags":["규칙 관리"],"summary":"규칙 수정","operationId":"updateRule","parameters":[{"name":"rule_uuid","in":"path","description":"규칙 UUID","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRuleRequestDto"}}}},"responses":{"200":{"description":"규칙 수정 성공","headers":{"Content-Type":{"style":"simple","schema":{"type":"String","example":"application/json"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetRuleResponseDto"}}}}}},"delete":{"tags":["규칙 관리"],"summary":"규칙 삭제","operationId":"deleteRule","parameters":[{"name":"rule_uuid","in":"path","description":"규칙 UUID","required":true,"schema":{"type":"string"}}],"responses":{"202":{"description":"규칙 삭제 성공"}}}},"/rules/{rule_uuid}/deployments":{"get":{"tags":["규칙 배포 관리"],"summary":"규칙 배포 목록 조회","operationId":"getRuleDeployments","responses":{"200":{"description":"규칙 배포 목록 조회 성공","headers":{"Content-Type":{"style":"simple","schema":{"type":"String","example":"application/json"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetRuleDeploymentsResponseDto"}}}}}},"post":{"tags":["규칙 배포 관리"],"summary":"규칙 배포","operationId":"deployRule","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeployRuleRequestDto"}}},"required":true},"responses":{"201":{"description":"규칙 생성 성공","headers":{"Location":{"style":"simple","schema":{"type":"String","example":"/rules/3fa85f64-5717-4562-b3fc-2c963f66afa6/deployments/8f9be8fc-f734-4ca7-bb89-fcf98ea2b817"}}}}}}},"/rules/{rule_uuid}/deployments/{rule_deployment_uuid}":{"get":{"tags":["규칙 배포 관리"],"summary":"규칙 배포 조회","operationId":"getRuleDeployment","parameters":[{"name":"rule_uuid","in":"path","description":"규칙 UUID","required":true,"schema":{"type":"string"}},{"name":"rule_deployment_uuid","in":"path","description":"규칙 배포 UUID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"규칙 배포 조회 성공","headers":{"Content-Type":{"style":"simple","schema":{"type":"String","example":"application/json"}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetRuleDeploymentResponseDto"}}}}}},"delete":{"tags":["규칙 배포 관리"],"summary":"규칙 배포 해제","operationId":"undeployRule","parameters":[{"name":"rule_uuid","in":"path","description":"규칙 UUID","required":true,"schema":{"type":"string"}},{"name":"rule_deployment_uuid","in":"path","description":"규칙 배포 UUID","required":true,"schema":{"type":"string"}}],"responses":{"202":{"description":"규칙 배포 해제 성공"}}}}},"components":{"schemas":{"GetNodeResponseDto":{"required":["createdAt","lastHeartbeatAt","name","uuid"],"type":"object","properties":{"uuid":{"type":"string","description":"노드고유식별자","format":"uuid","example":"3fa85f64-5717-4562-b3fc-2c963f66afa6"},"name":{"type":"string","description":"노드명","example":"sp-node-#1"},"lastHeartbeatAt":{"type":"string","description":"마지막상태확인일시","format":"date-time"},"createdAt":{"type":"string","description":"생성일시","format":"date-time"},"modifiedAt":{"type":"string","description":"수정일시","format":"date-time"}}},"GetNodesResponseDto":{"required":["list"],"type":"object","properties":{"list":{"type":"array","description":"노드 목록","items":{"$ref":"#/components/schemas/GetNodeResponseDto"}}}},"CreateNodeRequestDto":{"required":["name"],"type":"object","properties":{"name":{"type":"string","description":"노드명","example":"sp-node-#1"}}},"UpdateNodeRequestDto":{"type":"object","properties":{"name":{"type":"string","description":"노드명","example":"sp-node-#1"}}},"GetNodeStatusResponseDto":{"required":["status"],"type":"object","properties":{"status":{"type":"string","description":"노드상태","example":"health"}}},"GetRuleResponseDto":{"required":["content","createdAt","name","uuid"],"type":"object","properties":{"uuid":{"type":"string","description":"비즈니스규칙고유식별자","format":"uuid","example":"3fa85f64-5717-4562-b3fc-2c963f66afa6"},"name":{"type":"string","description":"비즈니스규칙명","example":"biz-rule-#1"},"content":{"type":"string","description":"비즈니스규칙내용","example":"{{rule script}}"},"createdAt":{"type":"string","description":"생성일시","format":"date-time"},"modifiedAt":{"type":"string","description":"수정일시","format":"date-time"}}},"GetRulesResponseDto":{"required":["list"],"type":"object","properties":{"list":{"type":"array","description":"비즈니스규칙 목록","items":{"$ref":"#/components/schemas/GetRuleResponseDto"}}}},"CreateRuleRequestDto":{"required":["content","name"],"type":"object","properties":{"name":{"type":"string","description":"비즈니스규칙명","example":"biz-rule-#1"},"content":{"type":"string","description":"비즈니스규칙내용","example":"{{rule script}}"}}},"UpdateRuleRequestDto":{"type":"object","properties":{"name":{"type":"string","description":"비즈니스규칙명","example":"biz-rule-#1"},"content":{"type":"string","description":"비즈니스규칙내용","example":"{{rule script}}"}}},"GetRuleDeploymentResponseDto":{"required":["createdAt","nodeUuid","ruleDeploymentUuid","status"],"type":"object","properties":{"ruleDeploymentUuid":{"type":"string","description":"비즈니스규칙배포고유식별자","format":"uuid","example":"8f9be8fc-f734-4ca7-bb89-fcf98ea2b817"},"nodeUuid":{"type":"string","description":"노드고유식별자","format":"uuid","example":"3fa85f64-5717-4562-b3fc-2c963f66afa6"},"status":{"type":"string","description":"비즈니스규칙배포상태"},"deployedAt":{"type":"string","description":"비즈니스규칙배포일시","format":"date-time"},"undeployedAt":{"type":"string","description":"비즈니스규칙배포해제일시","format":"date-time"},"createdAt":{"type":"string","description":"생성일시","format":"date-time"},"modifiedAt":{"type":"string","description":"수정일시","format":"date-time"}}},"GetRuleDeploymentsResponseDto":{"required":["list"],"type":"object","properties":{"list":{"type":"array","description":"비즈니스규칙배포 목록","items":{"$ref":"#/components/schemas/GetRuleDeploymentResponseDto"}}}},"DeployRuleRequestDto":{"required":["nodeUuid"],"type":"object","properties":{"nodeUuid":{"type":"string","description":"노드고유식별자","format":"uuid","example":"3fa85f64-5717-4562-b3fc-2c963f66afa6"}}}},"securitySchemes":{"basicScheme":{"type":"http","scheme":"basic"}}}}
